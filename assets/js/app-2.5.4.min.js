window.onload=function(){var e=document.getElementById("OpenSpeedTest-UI");e.parentNode.replaceChild(e.contentDocument.documentElement,e),ostOnload(),OpenSpeedTest.Start()},function(e){var t,o,s=function(e){e&&"function"==typeof e&&e()};function n(e){if(!(this instanceof n))return new n(e);this.el=document.getElementById(e)}n.prototype.fade=function e(t,o,n){var i="in"===t,r=i?0:1,l=14/o,a=this;i&&(a.el.style.display="block",a.el.style.opacity=r);var p=window.setInterval(function e(){r=i?r+l:r-l,a.el.style.opacity=r,r<=0&&(a.el.style.display="none"),(r<=0||r>=1)&&window.clearInterval(p,s(n))},14)};var i=function(e,t,o,s){return e/=s,o*(--e*e*e+1)+t},r=function(){this.YourIP=n("YourIP"),this.ipDesk=n("ipDesk"),this.ipMob=n("ipMob"),this.downSymbolDesk=n("downSymbolDesk"),this.upSymbolDesk=n("upSymbolDesk"),this.upSymbolMob=n("upSymbolMob"),this.downSymbolMob=n("downSymbolMob"),this.logoSymbolMob=n("logoSymbolMob"),this.logoSymbolDesk=n("logoSymbolDesk"),this.settingsMob=n("settingsMob"),this.settingsDesk=n("settingsDesk"),this.oDoLiveStatus=n("oDoLiveStatus"),this.ConnectErrorMob=n("ConnectErrorMob"),this.ConnectErrorDesk=n("ConnectErrorDesk"),this.downResult=n("downResult"),this.upRestxt=n("upRestxt"),this.pingResult=n("pingResult"),this.jitterDesk=n("jitterDesk"),this.addressDesk=n("addressDesk"),this.ispDesk=n("ispDesk"),this.pingMobres=n("pingMobres"),this.JitterResultMon=n("JitterResultMon"),this.addressResultMon=n("addressResultMon"),this.ispResultMon=n("ispResultMon"),this.JitterResultms=n("JitterResultms"),this.UI_Desk=n("UI-Desk"),this.UI_Mob=n("UI-Mob"),this.oDoTopSpeed=n("oDoTopSpeed"),this.startButtonMob=n("startButtonMob"),this.restartButtonMob=n("restartButtonMob"),this.startButtonDesk=n("startButtonDesk"),this.restartButtonDesk=n("restartButtonDesk"),this.intro_Desk=n("intro-Desk"),this.intro_Mob=n("intro-Mob"),this.loader=n("loading_app"),this.OpenSpeedtest=n("OpenSpeedtest"),this.mainGaugebg_Desk=n("mainGaugebg-Desk"),this.mainGaugeBlue_Desk=n("mainGaugeBlue-Desk"),this.mainGaugeWhite_Desk=n("mainGaugeWhite-Desk"),this.mainGaugebg_Mob=n("mainGaugebg-Mob"),this.mainGaugeBlue_Mob=n("mainGaugeBlue-Mob"),this.mainGaugeWhite_Mob=n("mainGaugeWhite-Mob"),this.oDoLiveSpeed=n("oDoLiveSpeed"),this.progressStatus_Mob=n("progressStatus-Mob"),this.progressStatus_Desk=n("progressStatus-Desk"),this.graphc1=n("graphc1"),this.graphc2=n("graphc2"),this.graphMob2=n("graphMob2"),this.graphMob1=n("graphMob1"),this.text=n("text"),this.scale=[{degree:680,value:0},{degree:570,value:.5},{degree:460,value:1},{degree:337,value:10},{degree:220,value:100},{degree:115,value:500},{degree:0,value:1e3},],this.element="",this.chart="",this.polygon="",this.width=200,this.height=50,this.maxValue=0,this.values=[],this.points=[],this.vSteps=5,this.measurements=[],this.points=[]};r.prototype.reset=function(){this.element="",this.chart="",this.polygon="",this.width=200,this.height=50,this.maxValue=0,this.values=[],this.points=[],this.vSteps=5,this.measurements=[],this.points=[]},r.prototype.ip=function(){var e=this;"block"===e.ipDesk.el.style.display?(e.ipDesk.el.style.display="none",e.ipMob.el.style.display="none"):(e.ipDesk.el.style.display="block",e.ipMob.el.style.display="block")},r.prototype.prePing=function(){this.loader.fade("out",500),this.OpenSpeedtest.fade("in",1e3)},r.prototype.app=function(){this.loader.fade("out",500,this.ShowAppIntro())},r.prototype.ShowAppIntro=function(){this.OpenSpeedtest.fade("in",1e3)},r.prototype.userInterface=function(){this.intro_Desk.fade("out",1e3),this.intro_Mob.fade("out",1e3,this.ShowUI())},r.prototype.ShowUI=function(){this.UI_Desk.fade("in",1e3),this.UI_Mob.fade("in",1e3,function e(o){var s,i,r,l,a;s=n("downResult"),i=n("upRestxt"),r=n("pingResult"),l=n("jitterDesk"),a=n("pingMobres"),s.el.textContent="---",i.el.textContent="---",r.el.textContent="---",l.el.textContent="---",a.el.textContent="---",t="Loaded",console.log("Developed by Vishnu. Email --> me@vishnu.pro")})},r.prototype.Symbol=function(e){0==e&&(this.downSymbolMob.el.style.display="block",this.downSymbolDesk.el.style.display="block",this.upSymbolMob.el.style.display="none",this.upSymbolDesk.el.style.display="none",this.logoSymbolDesk.el.style.display="none",this.logoSymbolMob.el.style.display="none",this.restartButtonDesk.el.style.display="none",this.restartButtonMob.el.style.display="none"),1==e&&(this.downSymbolMob.el.style.display="none",this.downSymbolDesk.el.style.display="none",this.upSymbolMob.el.style.display="block",this.upSymbolDesk.el.style.display="block",this.logoSymbolDesk.el.style.display="none",this.logoSymbolMob.el.style.display="none",this.restartButtonDesk.el.style.display="none",this.restartButtonMob.el.style.display="none"),2==e&&(this.downSymbolMob.el.style.display="none",this.downSymbolDesk.el.style.display="none",this.upSymbolMob.el.style.display="none",this.upSymbolDesk.el.style.display="none",this.logoSymbolDesk.el.style.display="block",this.logoSymbolMob.el.style.display="block",this.restartButtonDesk.el.style.display="block",this.restartButtonMob.el.style.display="block")},r.prototype.Graph=function(e,t){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var o,s,n=this;if(0===t){var i=this.graphc1.el;o="line",this.graphMob2.el.style.display="none",this.graphMob1.el.style.display="block"}else i=this.graphc2.el,o="line2",this.graphMob1.el.style.display="none",this.graphMob2.el.style.display="block";isNaN(e)?this.values.push(""):this.values.push(e),e>0&&function e(t,r){(function e(){for(s=0,n.maxValue=0;s<n.values.length;s++)n.values[s]>n.maxValue&&(n.maxValue=n.values[s]);n.maxValue=Math.ceil(n.maxValue)})(),function e(){if(n.values.length>1){var t="0,"+n.height+" ";for(s=0;s<n.values.length;s++){var o=n.values[s]/n.maxValue;t+=(130/(n.values.length-1)*s).toFixed(2)+","+(n.height-n.height*o).toFixed(2)+" "}t+="130,"+n.height,n.points=t}}(),function e(){for(s=0;s<n.vSteps;s++){var t=Math.ceil(n.maxValue/n.vSteps*(s+1));n.measurements.push(t)}n.measurements.reverse()}();for(var l=document.getElementsByClassName(o);l.length>0;)l[0].remove();n.polygon=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n.polygon.setAttribute("points",n.points),n.polygon.setAttribute("class",o),n.values.length>1&&i.appendChild(n.polygon)}(i,e)},r.prototype.progress=function(e,t){var s=this,n=t,r=e,l=Date.now(),a=setInterval(function(){var e=(Date.now()-l)/1e3,t=i(e,400,400,n),p=i(e,400,-400,n);r?(s.progressStatus_Desk.el.style.strokeDashoffset=t,s.progressStatus_Mob.el.style.strokeDashoffset=t):(s.progressStatus_Desk.el.style.strokeDashoffset=p,s.progressStatus_Mob.el.style.strokeDashoffset=p),e>=n&&(clearInterval(a),o="done",s.progressStatus_Desk.el.style.strokeDashoffset=800,s.progressStatus_Mob.el.style.strokeDashoffset=800)},14)},r.prototype.mainGaugeProgress=function(e){var t=e;t<0&&(t=0);var o=this.getNonlinearDegree(t);e>0&&(this.mainGaugeBlue_Desk.el.style.strokeOpacity=1,this.mainGaugeWhite_Desk.el.style.strokeOpacity=1,this.mainGaugeBlue_Mob.el.style.strokeOpacity=1,this.mainGaugeWhite_Mob.el.style.strokeOpacity=1,this.mainGaugeBlue_Desk.el.style.strokeDashoffset=o,this.mainGaugeWhite_Desk.el.style.strokeDashoffset=0==o?1:o+1,this.mainGaugeBlue_Mob.el.style.strokeDashoffset=o,this.mainGaugeWhite_Mob.el.style.strokeDashoffset=0==o?1:o+1),0==o&&t>1e3?(this.mainGaugeBlue_Mob.el.style.strokeDashoffset=o>=681?681:o,this.mainGaugeWhite_Mob.el.style.strokeDashoffset=0==o?1:o+1,this.mainGaugeWhite_Desk.el.style.strokeDashoffset=0==o?1:o+1,this.mainGaugeBlue_Desk.el.style.strokeDashoffset=o>=681?681:o):0==o&&t<=0&&(this.mainGaugeBlue_Mob.el.style.strokeDashoffset=681.1,this.mainGaugeWhite_Mob.el.style.strokeDashoffset=.1,this.mainGaugeWhite_Desk.el.style.strokeDashoffset=.1,this.mainGaugeBlue_Desk.el.style.strokeDashoffset=681.1)},r.prototype.showStatus=function(e){this.oDoLiveStatus.el.textContent=e},r.prototype.ConnectionError=function(){this.ConnectErrorMob.el.style.display="block",this.ConnectErrorDesk.el.style.display="block"},r.prototype.uploadResult=function(e){e<1&&(this.upRestxt.el.textContent=e.toFixed(3)),e>=1&&e<9999&&(this.upRestxt.el.textContent=e.toFixed(1)),e>=1e4&&e<99999&&(this.upRestxt.el.textContent=e.toFixed(1),this.upRestxt.el.style.fontSize="20px"),e>=1e5&&(this.upRestxt.el.textContent=e.toFixed(1),this.upRestxt.el.style.fontSize="18px")},r.prototype.pingResults=function(e,t){var o=e;"Ping"===t&&(o>=1&&o<1e4?(this.pingResult.el.textContent=Math.floor(o),this.pingMobres.el.textContent=Math.floor(o)):o>=0&&o<1&&(0==o&&(o=0),this.pingResult.el.textContent=o,this.pingMobres.el.textContent=o)),"Error"===t&&(this.oDoLiveSpeed.el.textContent=o)},r.prototype.downloadResult=function(e){e<1&&(this.downResult.el.textContent=e.toFixed(3)),e>=1&&e<9999&&(this.downResult.el.textContent=e.toFixed(1)),e>=1e4&&e<99999&&(this.downResult.el.textContent=e.toFixed(1),this.downResult.el.style.fontSize="20px"),e>=1e5&&(this.downResult.el.textContent=e.toFixed(1),this.downResult.el.style.fontSize="18px")},r.prototype.jitterResult=function(e,t){var o=e;if("Jitter"===t){if(o>=1&&o<1e4){if(this.jitterDesk.el.textContent=Math.floor(o),o>=1&&o<100&&(this.JitterResultMon.el.textContent=Math.floor(o)),o>=100){var s=(o/1e3).toFixed(1);this.JitterResultMon.el.textContent=s+"k"}}else o>=0&&o<1&&(0==o&&(o=0),this.jitterDesk.el.textContent=o,this.JitterResultMon.el.textContent=o)}},r.prototype.LiveSpeed=function(e,t){var o=e;if("countDown"===t){var s=o.toFixed(0);this.oDoLiveSpeed.el.textContent=s;return}if("speedToZero"===t){"number"==typeof o&&(o=o.toFixed(1)),o<=0&&(o=0),this.oDoLiveSpeed.el.textContent=o,this.oDoTopSpeed.el.textContent="1000+",this.oDoTopSpeed.el.style.fontSize="16.9px",this.oDoTopSpeed.el.style.fill="gray";return}if("Ping"===t)o>=1&&o<1e4?this.oDoLiveSpeed.el.textContent=Math.floor(o):o>=0&&o<1&&(0==o&&(o=0),this.oDoLiveSpeed.el.textContent=o);else{if(0==o){var s=o.toFixed(0);this.oDoLiveSpeed.el.textContent=s}if(o<=1&&o>0){var s=o.toFixed(3);this.oDoLiveSpeed.el.textContent=s}if(o>1){var s=o.toFixed(1);this.oDoLiveSpeed.el.textContent=s}o<=1e3&&(this.oDoTopSpeed.el.textContent="1000+",this.oDoTopSpeed.el.style.fontSize="16.9px",this.oDoTopSpeed.el.style.fill="gray"),o>=1010&&(this.oDoTopSpeed.el.textContent=1e3*Math.floor(o/1010)+"+",this.oDoTopSpeed.el.style.fill="gray",this.oDoTopSpeed.el.style.fontSize="17.2px")}},r.prototype.GaugeProgresstoZero=function(e,o){var s=e,n=this;if(s>=0)var i=Date.now(),r=0-s,l=setInterval(function(){var e,a,p,$=(Date.now()-i)/1e3,u=(e=$,a=s,p=r,e/=3,p*(--e*e*e*e*e+1)+a);n.LiveSpeed(u,"speedToZero"),n.mainGaugeProgress(u),($>=3||u<=0)&&(clearInterval(l),n.LiveSpeed(0,"speedToZero"),n.mainGaugeProgress(0),t=o)},16)},r.prototype.getNonlinearDegree=function(e){var t=0;if(0==e||e<=0||isNaN(e))return 0;for(;t<this.scale.length;){if(!(e>this.scale[t].value))return this.scale[t-1].degree+(e-this.scale[t-1].value)*(this.scale[t].degree-this.scale[t-1].degree)/(this.scale[t].value-this.scale[t-1].value);t++}return this.scale[this.scale.length-1].degree};var l=function(){this.OverAllTimeAvg=window.performance.now(),this.SpeedSamples=[],this.FinalSpeed};l.prototype.reset=function(){this.OverAllTimeAvg=window.performance.now(),this.SpeedSamples=[],this.FinalSpeed=0},l.prototype.ArraySum=function(e){var t=e;return t?t.reduce(function(e,t){if("number"==typeof e&&"number"==typeof t)return e+t},0):0},l.prototype.AvgSpeed=function(e,t,o){var s=this;this.timeNow=(window.performance.now()-this.OverAllTimeAvg)/1e3,this.FinalSpeed;var n=t;return n=o-n,this.timeNow>=n&&(e>0&&this.SpeedSamples.push(e),s.FinalSpeed=s.ArraySum(s.SpeedSamples)/s.SpeedSamples.length),s.FinalSpeed},l.prototype.uRandom=function(e,t){var e=e,o=new Uint32Array(262144);function n(){for(var e=o.length,t=0;t<e;t++)o[t]=4294967296*Math.random();return o}var i=[];return new Blob(function(e){for(var e=e,t=0;t<e;t++)i[t]=n();return i}(e),{type:"application/octet-stream"},s(t))},l.prototype.addEvt=function(e,t,o){e.addEventListener(t,o)},l.prototype.remEvt=function(e,t,o){e.removeEventListener(t,o)};var a=function(){var s,n,i,a,p,$,u,h,d,f,y,g,c,_,v,m,S,b,D,k,w,x,M,C,R,E,G,T,B,L,I,F,P,A,U,N,O,H=new l,W=new r;W.app();var j=location.hostname,J=[],V=[],z=[],Z=0,q=0,Y=0,X=0;function K(){V=0,z=0,c=0,Y=0}D=window.navigator.userAgent?window.navigator.userAgent:"Not Found";var Q=.6*ulDuration,ee=.6*dlDuration;.6*ulDuration>=7&&(Q=7),.6*dlDuration>=7&&(ee=7);var et=!0,eo=!0;H.addEvt(W.settingsMob.el,"click",ec),H.addEvt(W.settingsDesk.el,"click",ec),H.addEvt(W.startButtonDesk.el,"click",e_),H.addEvt(W.restartButtonDesk.el,"click",e_),H.addEvt(W.startButtonMob.el,"click",e_),H.addEvt(W.restartButtonMob.el,"click",e_),H.addEvt(document,"keypress",eb);var es=!0,en=function(e){var t={},o=document.createElement("a");o.href=e;for(var s=o.search.substring(1).split("&"),n=0;n<s.length;n++){var i=s[n].split("=");t[i[0]]=decodeURIComponent(i[1])}return t}(window.location.href.toLowerCase());setPingSamples&&("string"==typeof en.ping||"string"==typeof en.p)&&(void 0!==en.ping?k=en.ping:void 0!==en.p&&(k=en.p),k>0&&(pingSamples=k,pingSamples=k)),setPingTimeout&&("string"==typeof en.out||"string"==typeof en.o)&&(void 0!==en.out?w=en.out:void 0!==en.o&&(w=en.o),w>1&&(pingTimeOut=w,pingTimeOut=w)),setHTTPReq&&("string"==typeof en.xhr||"string"==typeof en.x)&&(void 0!==en.xhr?x=en.xhr:void 0!==en.x&&(x=en.x),x>0&&x<=32&&(dlThreads=x,ulThreads=x)),selectServer&&("string"==typeof en.host||"string"==typeof en.h)&&(void 0!==en.host?M=en.host:void 0!==en.h&&(M=en.h),s=M,/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(s)&&(openSpeedTestServerList=[{ServerName:"Home",Download:M+"/downloading",Upload:M+"/upload",ServerIcon:"DefaultIcon"},]));var ei=parseInt(en.stress),er=parseInt(en.s);"string"==typeof en.stress?(C=en.stress,R=ei):"string"==typeof en.s&&(C=en.s,R=er),C&&stressTest&&(("low"===C||"l"===C)&&(dlDuration=300,ulDuration=300),("medium"===C||"m"===C)&&(dlDuration=600,ulDuration=600),("high"===C||"h"===C)&&(dlDuration=900,ulDuration=900),("veryhigh"===C||"v"===C)&&(dlDuration=1800,ulDuration=1800),("extreme"===C||"e"===C)&&(dlDuration=3600,ulDuration=3600),("day"===C||"d"===C)&&(dlDuration=86400,ulDuration=86400),("year"===C||"y"===C)&&(dlDuration=31557600,ulDuration=31557600),(ei>12||er>12)&&(dlDuration=R,ulDuration=R));var el=parseInt(en.clean),ea=parseInt(en.c),ep=1;el?ep=el:ea&&(ep=ea),enableClean&&("string"==typeof en.clean||"string"==typeof en.c)&&(el>=1||ea>=1?(el<5||ea<5)&&(upAdjust=1+ep/100,dlAdjust=1+ep/100):(upAdjust=1,dlAdjust=1));var e$=parseInt(en.run),eu=parseInt(en.r);enableRun&&("string"==typeof en.run||"string"==typeof en.r)&&(E=e$>0?e$:eu>0?eu:0),E>=0&&et&&e_();var eh=en.test,ed=en.t,ef=!1;selectTest&&("string"==typeof eh||"string"==typeof ed)&&(eh?(G=eh,ef=eh):ed&&(G=ed,ef=ed),"download"===G||"d"===G?($=0,h=0,ef="Download",et&&e_()):"upload"===G||"u"===G?(p=0,u=0,ef="Upload",X=1,et&&e_()):"ping"===G||"p"===G?($=0,h=0,p=0,u=0,ef="Ping",et&&e_()):ef=!1);var ey=0,eg=!1;function ec(){eg&&(W.YourIP.el.textContent="Please wait..",eO(7),eg=!1),W.ip()}function e_(){if(es&&(H.remEvt(W.settingsMob.el,"click",ec),H.remEvt(W.settingsDesk.el,"click",ec),H.remEvt(W.startButtonDesk.el,"click",e_),H.remEvt(W.restartButtonDesk.el,"click",e_),H.remEvt(W.startButtonMob.el,"click",e_),H.remEvt(W.restartButtonMob.el,"click",e_),H.remEvt(document,"keypress",eb),es=!1),E>=0){et=!1,W.userInterface(),eo=!1;var e=Math.ceil(Math.abs(E));W.showStatus("Automatic Test Starts in ...");var t=setInterval(function o(){e>=1?(e-=1,W.LiveSpeed(e,"countDown")):e<=0&&(clearInterval(t),et=!0,E=void 0,e_())},1e3)}"fetch"===openSpeedTestServerList&&!0===et&&(et=!1,W.showStatus("Fetching Server Info.."),eO(6)),!0===et&&("Ping"===ef?ek():"Download"===ef?ek():"Upload"===ef?ek():!1===ef&&ek())}var ev="DRIXAN",em=".com",eS=ev;function eb(e){"Enter"===e.key&&e_()}var eD=0;function ek(){eo&&(W.userInterface(),eo=!1),function s(){function i(){S=window.performance.now(),function e(){for(var t=0;t<ulThreads;t++)setTimeout(function(e){e1(e)},ulDelay*t,t)}()}("widget"===openChannel||"web"===openChannel)&&eO(1);var r=setInterval(function(){if("Loaded"===t&&(t="busy",function e(){if(eN=openSpeedTestServerList.length,t="Ping",performance.clearResourceTimings(),e6<eN-1)e6++,"Stop"!=O&&function e(t,o){var s=0,n=[],i=[];function r(){if(s<pingSamples)s++,"Stop"!=O&&l();else if(n.length>1){i.sort(function(e,t){return e-t});var e=(i=(i=i.slice(0,i.length*jitterFinalSample)).reduce(function(e,t){return e+t},0)/i.length).toFixed(1),r=Math.min.apply(Math,n);eA.push(r),e5.push(t),eU.push(e),"function"==typeof o&&o()}else"function"==typeof o&&o()}function l(){var e=new XMLHttpRequest;"Stop"!=O&&e.abort(),e.open(pingMethod,t[pingFile]+"?n="+Math.random(),!0),e.timeout=pingTimeOut;var o=window.performance.now();e.send(),e.onload=function(){if(200===this.status&&4===this.readyState){var e,t=Math.floor(window.performance.now()-o),l=performance.getEntries();if(e="xmlhttprequest"===(l=l[l.length-1]).initiatorType?parseFloat(l.duration.toFixed(1)):t,s>250&&(e=t),e<=0?(P=.1,n.push(.1)):(P=e,n.push(e)),n.length>1){var a=Math.abs(n[n.length-1]-n[n.length-2]).toFixed(1);i.push(parseFloat(a)),U=a,W.LiveSpeed(e,"Ping"),W.pingResults(e,"Ping"),W.jitterResult(a,"Jitter")}r()}404===this.status&&4===this.readyState&&(s++,r())},e.onerror=function(e){s++,r()},e.ontimeout=function(e){s++,r()}}l()}(openSpeedTestServerList[e6],e);else if(e5.length>=1){var o=Math.min.apply(Math,eA),s=eA.indexOf(o);F=e5[s],A=o,N=eU[s],O="Busy",W.LiveSpeed(A,"Ping"),W.pingResults(A,"Ping"),W.jitterResult(N,"Jitter"),d=A,f=N,t=ef?"Ping"==ef?"SendR":ef:"Download"}else e5.Download||(t="Error")}()),"Ping"===t&&(t="busy",W.showStatus("Milliseconds")),"Download"===t&&(W.showStatus("Initializing.."),H.reset(),K(),W.reset(),m=window.performance.now(),function e(){for(var t=0;t<dlThreads;t++)setTimeout(function(e){eP(e)},dlDelay*t,t)}(),t="initDown"),"Downloading"===t){if(W.Symbol(0),0==ey){ey=1,W.showStatus("Testing download speed..");var s=(window.performance.now()-m)/1e3;T=s,W.progress(1,dlDuration+2.5),dlDuration+=s}v=(window.performance.now()-m)/1e3,e7("dl"),W.showStatus("Mbps download"),W.mainGaugeProgress(Y),W.LiveSpeed(Y),W.Graph(Y,0),p=H.AvgSpeed(Y,ee,dlDuration),v>=dlDuration&&"done"==o&&(ef?(W.GaugeProgresstoZero(Y,"SendR"),W.showStatus("FINISHED"),W.Symbol(2)):W.GaugeProgresstoZero(Y,"Upload"),W.downloadResult(p),u=Z,X=1,t="busy",K(),H.reset())}if("Upload"==t&&1===X&&(W.Symbol(1),t="initup",W.showStatus("Initializing.."),W.LiveSpeed("...","speedToZero"),n=H.uRandom(ulDataSize,i),ef&&(ey=1)),"Uploading"===t){if(1==ey){ey=2,W.showStatus("Testing upload speed.."),Y=0,H.reset(),W.reset();var l=(window.performance.now()-S)/1e3;B=l,W.progress(!1,ulDuration+2.5),ulDuration+=l}W.showStatus("Mbps upload"),_=(window.performance.now()-S)/1e3,e7("up"),W.mainGaugeProgress(Y),W.LiveSpeed(Y),W.Graph(Y,1),$=H.AvgSpeed(Y,Q,ulDuration),_>=ulDuration&&1==X&&(h=q,W.uploadResult($),W.GaugeProgresstoZero(Y,"SendR"),n=void 0,W.showStatus("FINISHED"),W.Symbol(2),t="busy",X=0)}if("Error"===t){W.showStatus("Check your network connection status."),W.ConnectionError(),t="busy",clearInterval(r);var a=document.createElement("div");a.innerHTML="<g></g>";var y=a.querySelector("a");W.oDoLiveSpeed.el.textContent="Network Error";var g=document.getElementById("oDoLiveSpeed");y.innerHTML=g.innerHTML,g.innerHTML=a.innerHTML}if("SendR"===t){W.showStatus("FINISHED");var c,a=document.createElement("div");a.innerHTML="<g></g>";var y=a.querySelector("a");if(W.oDoLiveSpeed.el.textContent=eS,W.oDoLiveSpeed.el.classList.add("done-speed"),location.hostname!=ev.toLowerCase()+em){b=encodeURI(b="https://"+ev.toLowerCase()+em+"/results/show.php?&d="+p.toFixed(3)+"&u="+$.toFixed(3)+"&p="+d+"&j="+f+"&dd="+(u/1048576).toFixed(3)+"&ud="+(h/1048576).toFixed(3)+"&ua="+D);var k=document.getElementById("resultsData");k.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b),k.setAttribute("target","_blank"),saveData&&eO(5)}else eO(3);(c=new XMLHttpRequest).open("GET","https://f48844b8-af59-46ec-9aa8-d5270d526e9c-00-3d71chh85rwa2.picard.replit.dev/get-isp.php",!0),c.onload=function(){if(200===c.status){var e=JSON.parse(c.responseText);W.addressDesk.el.textContent=e.ip,W.ispDesk.el.textContent=e.isp,W.ispResultMon.el.textContent=e.isp,W.addressResultMon.el.textContent=e.ip}else console.error("Erro ao consultar o IP: "+c.statusText)},c.send(),t="busy",clearInterval(r),p=0,$=0,u=0,h=0,X=0,t="Idle",console.log("Restarting parameters..."),e.Start()}},100)}()}"web"===openChannel&&(eD=webRe,eg=!0),"widget"===openChannel&&(eD=widgetRe,eg=!0),"selfwidget"===openChannel&&(eD=widgetRe,j=a=domainx),openChannel;var ew=0,ex=0,eM=0,eC=0,eR=0,eE=0,e0=0,eG=0,eT=0,eB=0,eL=0,e8=0,eI=0,e4=0,e3=1e3*dlDuration-6e3,eF=1e3*ulDuration-6e3;function e7(e){if("dl"===e){var t=1e3*v;t>1e3*T+ee/2*1e3&&0===e0&&(e0=1,eE*=.01,eM*=.01,L=t+1e4),t>=L&&L<e3&&(L+=1e4,eE*=.01,eM*=.01),ew=Z<=0?0:Z-ex,ex=Z,eM+=ew,eC=eR=t-eR,eR=t,eE+=eC,eM>0&&(Y=c=eM/eE/125*upAdjust)}if("up"===e){var o=1e3*_;o>1e3*B+Q/2*1e3&&0===e4&&(e4=1,eI*=.1,eB*=.1,I=o+1e4),o>=I&&I<eF&&(I+=1e4,eI*=.1,eB*=.1),eG=q<=0?0:q-eT,eT=q,eB+=eG,eL=e8=o-e8,e8=o,eI+=eL,eB>0&&(Y=c=eB/eI/125*upAdjust)}}function eP(e){var o=0,s=new XMLHttpRequest;J[e]=s,J[e].open("GET",F.Download+"?n="+Math.random(),!0),J[e].onprogress=function(s){if(1===X)return J[e].abort(),J[e]=null,J[e]=void 0,delete J[e],!1;"initDown"==t&&(t="Downloading");var n=s.loaded<=0?0:s.loaded-o;if(isNaN(n)||!isFinite(n)||n<0)return!1;Z+=n,o=s.loaded},J[e].onload=function(s){0===o&&(Z+=s.total),"initDown"==t&&(t="Downloading"),J[e]&&(J[e].abort(),J[e]=null,J[e]=void 0,delete J[e]),0===X&&eP(e)},J[e].onerror=function(t){0===X&&eP(e)},J[e].responseType="arraybuffer",J[e].send()}var e2=[];function e1(e){var o=0,s=new XMLHttpRequest;e2[e]=s,e2[e].open("POST",F.Upload+"?n="+Math.random(),!0),e2[e].upload.onprogress=function(s){if("initup"==t&&void 0===n){var n;t="Uploading"}if(_>=ulDuration)return e2[e].abort(),e2[e]=null,e2[e]=void 0,delete e2[e],!1;var i=s.loaded<=0?0:s.loaded-o;if(isNaN(i)||!isFinite(i)||i<0)return!1;q+=i,o=s.loaded},e2[e].onload=function(){if(0===o&&(q+=1048576*ulDataSize,_>=ulDuration))return e2[e].abort(),e2[e]=null,e2[e]=void 0,delete e2[e],!1;if("initup"==t&&void 0===s){var s;t="Uploading"}e2[e]&&(e2[e].abort(),e2[e]=null,e2[e]=void 0,delete e2[e]),1===X&&e1(e)},e2[e].onerror=function(t){_<=ulDuration&&e1(e)},e2[e].setRequestHeader("Content-Type","application/octet-stream"),e>0&&q<=17e3||e2[e].send(n)}var e6=-1,eA=[],e5=[],eU=[],eN=openSpeedTestServerList.length,eO=function(e){var t=new XMLHttpRequest,o=OpenSpeedTestdb;1==e&&(o=webIP),5==e&&(o=saveDataURL),7==e&&(o=get_IP),t.open("POST",o,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(g=t.responseText.trim(),2==e&&(i=g),1==e&&(a=g),3==e&&setTimeout(function(){location.href=eD+g},1500),6==e&&(openSpeedTestServerList=JSON.parse(g),et=!0,e_()),7==e&&(W.YourIP.el.textContent=g))},2==e&&(y="r=n"),3==e&&(y="r=l&d="+p+"&u="+$+"&dd="+u/1048576+"&ud="+h/1048576+"&p="+d+"&do="+j+"&S="+i+"&sip="+a+"&jit="+f+"&ua="+D),5==e&&(y=b),6==e&&(y="r=s"),t.send(y)}};e.Start=function(){new a}}(window.OpenSpeedTest=window.OpenSpeedTest||{});