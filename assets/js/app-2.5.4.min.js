window.onload=function(){var e=document.getElementById("OpenSpeedTest-UI");e.parentNode.replaceChild(e.contentDocument.documentElement,e),ostOnload(),OpenSpeedTest.Start()},function(e){var t,o,s=function(e){e&&"function"==typeof e&&e()};function n(e){if(!(this instanceof n))return new n(e);this.el=document.getElementById(e)}n.prototype.fade=function e(t,o,n){var i="in"===t,r=i?0:1,l=14/o,a=this;i&&(a.el.style.display="block",a.el.style.opacity=r);var p=window.setInterval(function e(){r=i?r+l:r-l,a.el.style.opacity=r,r<=0&&(a.el.style.display="none"),(r<=0||r>=1)&&window.clearInterval(p,s(n))},14)};var i=function(e,t,o,s){return e/=s,o*(--e*e*e+1)+t},r=function(){this.YourIP=n("YourIP"),this.ipDesk=n("ipDesk"),this.ipMob=n("ipMob"),this.downSymbolDesk=n("downSymbolDesk"),this.upSymbolDesk=n("upSymbolDesk"),this.upSymbolMob=n("upSymbolMob"),this.downSymbolMob=n("downSymbolMob"),this.logoSymbolMob=n("logoSymbolMob"),this.logoSymbolDesk=n("logoSymbolDesk"),this.settingsMob=n("settingsMob"),this.settingsDesk=n("settingsDesk"),this.oDoLiveStatus=n("oDoLiveStatus"),this.ConnectErrorMob=n("ConnectErrorMob"),this.ConnectErrorDesk=n("ConnectErrorDesk"),this.downResult=n("downResult"),this.upRestxt=n("upRestxt"),this.pingResult=n("pingResult"),this.jitterDesk=n("jitterDesk"),this.pingMobres=n("pingMobres"),this.JitterResultMon=n("JitterResultMon"),this.JitterResultms=n("JitterResultms"),this.UI_Desk=n("UI-Desk"),this.UI_Mob=n("UI-Mob"),this.oDoTopSpeed=n("oDoTopSpeed"),this.startButtonMob=n("startButtonMob"),this.startButtonDesk=n("startButtonDesk"),this.intro_Desk=n("intro-Desk"),this.intro_Mob=n("intro-Mob"),this.loader=n("loading_app"),this.OpenSpeedtest=n("OpenSpeedtest"),this.mainGaugebg_Desk=n("mainGaugebg-Desk"),this.mainGaugeBlue_Desk=n("mainGaugeBlue-Desk"),this.mainGaugeWhite_Desk=n("mainGaugeWhite-Desk"),this.mainGaugebg_Mob=n("mainGaugebg-Mob"),this.mainGaugeBlue_Mob=n("mainGaugeBlue-Mob"),this.mainGaugeWhite_Mob=n("mainGaugeWhite-Mob"),this.oDoLiveSpeed=n("oDoLiveSpeed"),this.progressStatus_Mob=n("progressStatus-Mob"),this.progressStatus_Desk=n("progressStatus-Desk"),this.graphc1=n("graphc1"),this.graphc2=n("graphc2"),this.graphMob2=n("graphMob2"),this.graphMob1=n("graphMob1"),this.text=n("text"),this.scale=[{degree:680,value:0},{degree:570,value:.5},{degree:460,value:1},{degree:337,value:10},{degree:220,value:100},{degree:115,value:500},{degree:0,value:1e3},],this.element="",this.chart="",this.polygon="",this.width=200,this.height=50,this.maxValue=0,this.values=[],this.points=[],this.vSteps=5,this.measurements=[],this.points=[]};r.prototype.reset=function(){this.element="",this.chart="",this.polygon="",this.width=200,this.height=50,this.maxValue=0,this.values=[],this.points=[],this.vSteps=5,this.measurements=[],this.points=[]},r.prototype.ip=function(){var e=this;"block"===e.ipDesk.el.style.display?(e.ipDesk.el.style.display="none",e.ipMob.el.style.display="none"):(e.ipDesk.el.style.display="block",e.ipMob.el.style.display="block")},r.prototype.prePing=function(){this.loader.fade("out",500),this.OpenSpeedtest.fade("in",1e3)},r.prototype.app=function(){this.loader.fade("out",500,this.ShowAppIntro())},r.prototype.ShowAppIntro=function(){this.OpenSpeedtest.fade("in",1e3)},r.prototype.userInterface=function(){this.intro_Desk.fade("out",1e3),this.intro_Mob.fade("out",1e3,this.ShowUI())},r.prototype.ShowUI=function(){this.UI_Desk.fade("in",1e3),this.UI_Mob.fade("in",1e3,function e(o){t="Loaded",console.log("Developed by Vishnu. Email --> me@vishnu.pro")})},r.prototype.Symbol=function(e){0==e&&(this.downSymbolMob.el.style.display="block",this.downSymbolDesk.el.style.display="block",this.upSymbolMob.el.style.display="none",this.upSymbolDesk.el.style.display="none",this.logoSymbolDesk.el.style.display="none",this.logoSymbolMob.el.style.display="none"),1==e&&(this.downSymbolMob.el.style.display="none",this.downSymbolDesk.el.style.display="none",this.upSymbolMob.el.style.display="block",this.upSymbolDesk.el.style.display="block",this.logoSymbolDesk.el.style.display="none",this.logoSymbolMob.el.style.display="none"),2==e&&(this.downSymbolMob.el.style.display="none",this.downSymbolDesk.el.style.display="none",this.upSymbolMob.el.style.display="none",this.upSymbolDesk.el.style.display="none",this.logoSymbolDesk.el.style.display="block",this.logoSymbolMob.el.style.display="block")},r.prototype.Graph=function(e,t){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var o,s,n=this;if(0===t){var i=this.graphc1.el;o="line",this.graphMob2.el.style.display="none",this.graphMob1.el.style.display="block"}else i=this.graphc2.el,o="line2",this.graphMob1.el.style.display="none",this.graphMob2.el.style.display="block";isNaN(e)?this.values.push(""):this.values.push(e),e>0&&function e(t,r){(function e(){for(s=0,n.maxValue=0;s<n.values.length;s++)n.values[s]>n.maxValue&&(n.maxValue=n.values[s]);n.maxValue=Math.ceil(n.maxValue)})(),function e(){if(n.values.length>1){var t="0,"+n.height+" ";for(s=0;s<n.values.length;s++){var o=n.values[s]/n.maxValue;t+=(130/(n.values.length-1)*s).toFixed(2)+","+(n.height-n.height*o).toFixed(2)+" "}t+="130,"+n.height,n.points=t}}(),function e(){for(s=0;s<n.vSteps;s++){var t=Math.ceil(n.maxValue/n.vSteps*(s+1));n.measurements.push(t)}n.measurements.reverse()}();for(var l=document.getElementsByClassName(o);l.length>0;)l[0].remove();n.polygon=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n.polygon.setAttribute("points",n.points),n.polygon.setAttribute("class",o),n.values.length>1&&i.appendChild(n.polygon)}(i,e)},r.prototype.progress=function(e,t){var s=this,n=t,r=e,l=Date.now(),a=setInterval(function(){var e=(Date.now()-l)/1e3,t=i(e,400,400,n),p=i(e,400,-400,n);r?(s.progressStatus_Desk.el.style.strokeDashoffset=t,s.progressStatus_Mob.el.style.strokeDashoffset=t):(s.progressStatus_Desk.el.style.strokeDashoffset=p,s.progressStatus_Mob.el.style.strokeDashoffset=p),e>=n&&(clearInterval(a),o="done",s.progressStatus_Desk.el.style.strokeDashoffset=800,s.progressStatus_Mob.el.style.strokeDashoffset=800)},14)},r.prototype.mainGaugeProgress=function(e){var t=e;t<0&&(t=0);var o=this.getNonlinearDegree(t);e>0&&(this.mainGaugeBlue_Desk.el.style.strokeOpacity=1,this.mainGaugeWhite_Desk.el.style.strokeOpacity=1,this.mainGaugeBlue_Mob.el.style.strokeOpacity=1,this.mainGaugeWhite_Mob.el.style.strokeOpacity=1,this.mainGaugeBlue_Desk.el.style.strokeDashoffset=o,this.mainGaugeWhite_Desk.el.style.strokeDashoffset=0==o?1:o+1,this.mainGaugeBlue_Mob.el.style.strokeDashoffset=o,this.mainGaugeWhite_Mob.el.style.strokeDashoffset=0==o?1:o+1),0==o&&t>1e3?(this.mainGaugeBlue_Mob.el.style.strokeDashoffset=o>=681?681:o,this.mainGaugeWhite_Mob.el.style.strokeDashoffset=0==o?1:o+1,this.mainGaugeWhite_Desk.el.style.strokeDashoffset=0==o?1:o+1,this.mainGaugeBlue_Desk.el.style.strokeDashoffset=o>=681?681:o):0==o&&t<=0&&(this.mainGaugeBlue_Mob.el.style.strokeDashoffset=681.1,this.mainGaugeWhite_Mob.el.style.strokeDashoffset=.1,this.mainGaugeWhite_Desk.el.style.strokeDashoffset=.1,this.mainGaugeBlue_Desk.el.style.strokeDashoffset=681.1)},r.prototype.showStatus=function(e){this.oDoLiveStatus.el.textContent=e},r.prototype.ConnectionError=function(){this.ConnectErrorMob.el.style.display="block",this.ConnectErrorDesk.el.style.display="block"},r.prototype.uploadResult=function(e){e<1&&(this.upRestxt.el.textContent=e.toFixed(3)),e>=1&&e<9999&&(this.upRestxt.el.textContent=e.toFixed(1)),e>=1e4&&e<99999&&(this.upRestxt.el.textContent=e.toFixed(1),this.upRestxt.el.style.fontSize="20px"),e>=1e5&&(this.upRestxt.el.textContent=e.toFixed(1),this.upRestxt.el.style.fontSize="18px")},r.prototype.pingResults=function(e,t){var o=e;"Ping"===t&&(o>=1&&o<1e4?(this.pingResult.el.textContent=Math.floor(o),this.pingMobres.el.textContent=Math.floor(o)):o>=0&&o<1&&(0==o&&(o=0),this.pingResult.el.textContent=o,this.pingMobres.el.textContent=o)),"Error"===t&&(this.oDoLiveSpeed.el.textContent=o)},r.prototype.downloadResult=function(e){e<1&&(this.downResult.el.textContent=e.toFixed(3)),e>=1&&e<9999&&(this.downResult.el.textContent=e.toFixed(1)),e>=1e4&&e<99999&&(this.downResult.el.textContent=e.toFixed(1),this.downResult.el.style.fontSize="20px"),e>=1e5&&(this.downResult.el.textContent=e.toFixed(1),this.downResult.el.style.fontSize="18px")},r.prototype.jitterResult=function(e,t){var o=e;if("Jitter"===t){if(o>=1&&o<1e4){if(this.jitterDesk.el.textContent=Math.floor(o),o>=1&&o<100&&(this.JitterResultMon.el.textContent=Math.floor(o)),o>=100){var s=(o/1e3).toFixed(1);this.JitterResultMon.el.textContent=s+"k"}}else o>=0&&o<1&&(0==o&&(o=0),this.jitterDesk.el.textContent=o,this.JitterResultMon.el.textContent=o)}},r.prototype.LiveSpeed=function(e,t){var o=e;if("countDown"===t){var s=o.toFixed(0);this.oDoLiveSpeed.el.textContent=s;return}if("speedToZero"===t){"number"==typeof o&&(o=o.toFixed(1)),o<=0&&(o=0),this.oDoLiveSpeed.el.textContent=o,this.oDoTopSpeed.el.textContent="1000+",this.oDoTopSpeed.el.style.fontSize="16.9px",this.oDoTopSpeed.el.style.fill="gray";return}if("Ping"===t)o>=1&&o<1e4?this.oDoLiveSpeed.el.textContent=Math.floor(o):o>=0&&o<1&&(0==o&&(o=0),this.oDoLiveSpeed.el.textContent=o);else{if(0==o){var s=o.toFixed(0);this.oDoLiveSpeed.el.textContent=s}if(o<=1&&o>0){var s=o.toFixed(3);this.oDoLiveSpeed.el.textContent=s}if(o>1){var s=o.toFixed(1);this.oDoLiveSpeed.el.textContent=s}o<=1e3&&(this.oDoTopSpeed.el.textContent="1000+",this.oDoTopSpeed.el.style.fontSize="16.9px",this.oDoTopSpeed.el.style.fill="gray"),o>=1010&&(this.oDoTopSpeed.el.textContent=1e3*Math.floor(o/1010)+"+",this.oDoTopSpeed.el.style.fill="gray",this.oDoTopSpeed.el.style.fontSize="17.2px")}},r.prototype.GaugeProgresstoZero=function(e,o){var s=e,n=this;if(s>=0)var i=Date.now(),r=0-s,l=setInterval(function(){var e,a,p,$=(Date.now()-i)/1e3,u=(e=$,a=s,p=r,e/=3,p*(--e*e*e*e*e+1)+a);n.LiveSpeed(u,"speedToZero"),n.mainGaugeProgress(u),($>=3||u<=0)&&(clearInterval(l),n.LiveSpeed(0,"speedToZero"),n.mainGaugeProgress(0),t=o)},16)},r.prototype.getNonlinearDegree=function(e){var t=0;if(0==e||e<=0||isNaN(e))return 0;for(;t<this.scale.length;){if(!(e>this.scale[t].value))return this.scale[t-1].degree+(e-this.scale[t-1].value)*(this.scale[t].degree-this.scale[t-1].degree)/(this.scale[t].value-this.scale[t-1].value);t++}return this.scale[this.scale.length-1].degree};var l=function(){this.OverAllTimeAvg=window.performance.now(),this.SpeedSamples=[],this.FinalSpeed};l.prototype.reset=function(){this.OverAllTimeAvg=window.performance.now(),this.SpeedSamples=[],this.FinalSpeed=0},l.prototype.ArraySum=function(e){var t=e;return t?t.reduce(function(e,t){if("number"==typeof e&&"number"==typeof t)return e+t},0):0},l.prototype.AvgSpeed=function(e,t,o){var s=this;this.timeNow=(window.performance.now()-this.OverAllTimeAvg)/1e3,this.FinalSpeed;var n=t;return n=o-n,this.timeNow>=n&&(e>0&&this.SpeedSamples.push(e),s.FinalSpeed=s.ArraySum(s.SpeedSamples)/s.SpeedSamples.length),s.FinalSpeed},l.prototype.uRandom=function(e,t){var e=e,o=new Uint32Array(262144);function n(){for(var e=o.length,t=0;t<e;t++)o[t]=4294967296*Math.random();return o}var i=[];return new Blob(function(e){for(var e=e,t=0;t<e;t++)i[t]=n();return i}(e),{type:"application/octet-stream"},s(t))},l.prototype.addEvt=function(e,t,o){e.addEventListener(t,o)},l.prototype.remEvt=function(e,t,o){e.removeEventListener(t,o)};var a=function(){var e,s,n,i,a,p,$,u,h,d,f,y,g,c,_,v,m,S,b,D,k,w,x,M,C,R,T,L,E,G,F,I,P,B,A,O,U,N=new l,H=new r;H.app();var W=location.hostname,J=[],V=[],j=[],z=0,Z=0,q=0,Y=0;function Q(){V=0,j=0,g=0,q=0}b=window.navigator.userAgent?window.navigator.userAgent:"Not Found";var X=.6*ulDuration,K=.6*dlDuration;.6*ulDuration>=7&&(X=7),.6*dlDuration>=7&&(K=7);var ee=!0,et=!0;N.addEvt(H.settingsMob.el,"click",eg),N.addEvt(H.settingsDesk.el,"click",eg),N.addEvt(H.startButtonDesk.el,"click",ec),N.addEvt(H.startButtonMob.el,"click",ec),N.addEvt(document,"keypress",eS);var eo=!0,es=function(e){var t={},o=document.createElement("a");o.href=e;for(var s=o.search.substring(1).split("&"),n=0;n<s.length;n++){var i=s[n].split("=");t[i[0]]=decodeURIComponent(i[1])}return t}(window.location.href.toLowerCase());setPingSamples&&("string"==typeof es.ping||"string"==typeof es.p)&&(void 0!==es.ping?D=es.ping:void 0!==es.p&&(D=es.p),D>0&&(pingSamples=D,pingSamples=D)),setPingTimeout&&("string"==typeof es.out||"string"==typeof es.o)&&(void 0!==es.out?k=es.out:void 0!==es.o&&(k=es.o),k>1&&(pingTimeOut=k,pingTimeOut=k)),setHTTPReq&&("string"==typeof es.xhr||"string"==typeof es.x)&&(void 0!==es.xhr?w=es.xhr:void 0!==es.x&&(w=es.x),w>0&&w<=32&&(dlThreads=w,ulThreads=w)),selectServer&&("string"==typeof es.host||"string"==typeof es.h)&&(void 0!==es.host?x=es.host:void 0!==es.h&&(x=es.h),e=x,/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(e)&&(openSpeedTestServerList=[{ServerName:"Home",Download:x+"/downloading",Upload:x+"/upload",ServerIcon:"DefaultIcon"},]));var en=parseInt(es.stress),ei=parseInt(es.s);"string"==typeof es.stress?(M=es.stress,C=en):"string"==typeof es.s&&(M=es.s,C=ei),M&&stressTest&&(("low"===M||"l"===M)&&(dlDuration=300,ulDuration=300),("medium"===M||"m"===M)&&(dlDuration=600,ulDuration=600),("high"===M||"h"===M)&&(dlDuration=900,ulDuration=900),("veryhigh"===M||"v"===M)&&(dlDuration=1800,ulDuration=1800),("extreme"===M||"e"===M)&&(dlDuration=3600,ulDuration=3600),("day"===M||"d"===M)&&(dlDuration=86400,ulDuration=86400),("year"===M||"y"===M)&&(dlDuration=31557600,ulDuration=31557600),(en>12||ei>12)&&(dlDuration=C,ulDuration=C));var er=parseInt(es.clean),el=parseInt(es.c),ea=1;er?ea=er:el&&(ea=el),enableClean&&("string"==typeof es.clean||"string"==typeof es.c)&&(er>=1||el>=1?(er<5||el<5)&&(upAdjust=1+ea/100,dlAdjust=1+ea/100):(upAdjust=1,dlAdjust=1));var ep=parseInt(es.run),e$=parseInt(es.r);enableRun&&("string"==typeof es.run||"string"==typeof es.r)&&(R=ep>0?ep:e$>0?e$:0),R>=0&&ee&&ec();var eu=es.test,eh=es.t,ed=!1;selectTest&&("string"==typeof eu||"string"==typeof eh)&&(eu?(T=eu,ed=eu):eh&&(T=eh,ed=eh),"download"===T||"d"===T?(p=0,u=0,ed="Download",ee&&ec()):"upload"===T||"u"===T?(a=0,$=0,ed="Upload",Y=1,ee&&ec()):"ping"===T||"p"===T?(p=0,u=0,a=0,$=0,ed="Ping",ee&&ec()):ed=!1);var ef=0,ey=!1;function eg(){ey&&(H.YourIP.el.textContent="Please wait..",eU(7),ey=!1),H.ip()}function ec(){if(eo&&(N.remEvt(H.settingsMob.el,"click",eg),N.remEvt(H.settingsDesk.el,"click",eg),N.remEvt(H.startButtonDesk.el,"click",ec),N.remEvt(H.startButtonMob.el,"click",ec),N.remEvt(document,"keypress",eS),eo=!1),R>=0){ee=!1,H.userInterface(),et=!1;var e=Math.ceil(Math.abs(R));H.showStatus("Automatic Test Starts in ...");var t=setInterval(function o(){e>=1?(e-=1,H.LiveSpeed(e,"countDown")):e<=0&&(clearInterval(t),ee=!0,R=void 0,ec())},1e3)}"fetch"===openSpeedTestServerList&&!0===ee&&(ee=!1,H.showStatus("Fetching Server Info.."),eU(6)),!0===ee&&("Ping"===ed?eD():"Download"===ed?eD():"Upload"===ed?eD():!1===ed&&eD())}var e_="DRIXAN",ev=".com",em=e_;function eS(e){"Enter"===e.key&&ec()}var eb=0;function eD(){et&&(H.userInterface(),et=!1),function e(){function n(){m=window.performance.now(),function e(){for(var t=0;t<ulThreads;t++)setTimeout(function(e){e1(e)},ulDelay*t,t)}()}("widget"===openChannel||"web"===openChannel)&&eU(1);var i=setInterval(function(){if("Loaded"===t&&(t="busy",function e(){if(eO=openSpeedTestServerList.length,t="Ping",performance.clearResourceTimings(),e2<eO-1)e2++,"Stop"!=U&&function e(t,o){var s=0,n=[],i=[];function r(){if(s<pingSamples)s++,"Stop"!=U&&l();else if(n.length>1){i.sort(function(e,t){return e-t});var e=(i=(i=i.slice(0,i.length*jitterFinalSample)).reduce(function(e,t){return e+t},0)/i.length).toFixed(1),r=Math.min.apply(Math,n);eA.push(r),e6.push(t),e5.push(e),"function"==typeof o&&o()}else"function"==typeof o&&o()}function l(){var e=new XMLHttpRequest;"Stop"!=U&&e.abort(),e.open(pingMethod,t[pingFile]+"?n="+Math.random(),!0),e.timeout=pingTimeOut;var o=window.performance.now();e.send(),e.onload=function(){if(200===this.status&&4===this.readyState){var e,t=Math.floor(window.performance.now()-o),l=performance.getEntries();if(e="xmlhttprequest"===(l=l[l.length-1]).initiatorType?parseFloat(l.duration.toFixed(1)):t,s>250&&(e=t),e<=0?(P=.1,n.push(.1)):(P=e,n.push(e)),n.length>1){var a=Math.abs(n[n.length-1]-n[n.length-2]).toFixed(1);i.push(parseFloat(a)),A=a,H.LiveSpeed(e,"Ping"),H.pingResults(e,"Ping"),H.jitterResult(a,"Jitter")}r()}404===this.status&&4===this.readyState&&(s++,r())},e.onerror=function(e){s++,r()},e.ontimeout=function(e){s++,r()}}l()}(openSpeedTestServerList[e2],e);else if(e6.length>=1){var o=Math.min.apply(Math,eA),s=eA.indexOf(o);I=e6[s],B=o,O=e5[s],U="Busy",H.LiveSpeed(B,"Ping"),H.pingResults(B,"Ping"),H.jitterResult(O,"Jitter"),h=B,d=O,t=ed?"Ping"==ed?"SendR":ed:"Download"}else e6.Download||(t="Error")}()),"Ping"===t&&(t="busy",H.showStatus("Milliseconds")),"Download"===t&&(H.showStatus("Initializing.."),N.reset(),Q(),H.reset(),v=window.performance.now(),function e(){for(var t=0;t<dlThreads;t++)setTimeout(function(e){e7(e)},dlDelay*t,t)}(),t="initDown"),"Downloading"===t){if(H.Symbol(0),0==ef){ef=1,H.showStatus("Testing download speed..");var e=(window.performance.now()-v)/1e3;L=e,H.progress(1,dlDuration+2.5),dlDuration+=e}_=(window.performance.now()-v)/1e3,eP("dl"),H.showStatus("Mbps download"),H.mainGaugeProgress(q),H.LiveSpeed(q),H.Graph(q,0),a=N.AvgSpeed(q,K,dlDuration),_>=dlDuration&&"done"==o&&(ed?(H.GaugeProgresstoZero(q,"SendR"),H.showStatus("CONCLUÍDO"),H.Symbol(2)):H.GaugeProgresstoZero(q,"Upload"),H.downloadResult(a),$=z,Y=1,t="busy",Q(),N.reset())}if("Upload"==t&&1===Y&&(H.Symbol(1),t="initup",H.showStatus("Initializing.."),H.LiveSpeed("...","speedToZero"),s=N.uRandom(ulDataSize,n),ed&&(ef=1)),"Uploading"===t){if(1==ef){ef=2,H.showStatus("Testing upload speed.."),q=0,N.reset(),H.reset();var r=(window.performance.now()-m)/1e3;E=r,H.progress(!1,ulDuration+2.5),ulDuration+=r}H.showStatus("Mbps upload"),c=(window.performance.now()-m)/1e3,eP("up"),H.mainGaugeProgress(q),H.LiveSpeed(q),H.Graph(q,1),p=N.AvgSpeed(q,X,ulDuration),c>=ulDuration&&1==Y&&(u=Z,H.uploadResult(p),H.GaugeProgresstoZero(q,"SendR"),s=void 0,H.showStatus("CONCLUÍDO"),H.Symbol(2),t="busy",Y=0)}if("Error"===t){H.showStatus("Check your network connection status."),H.ConnectionError(),t="busy",clearInterval(i);var l=document.createElement("div");l.innerHTML='<p></p>';var f=l.querySelector("a");H.oDoLiveSpeed.el.textContent="Network Error";var y=document.getElementById("oDoLiveSpeed");f.innerHTML=y.innerHTML,y.innerHTML=l.innerHTML}if("SendR"===t){H.showStatus("CONCLUÍDO");var l=document.createElement("div");l.innerHTML='<p></p>';var f=l.querySelector("a");H.oDoLiveSpeed.el.textContent=em;var y=document.getElementById("oDoLiveSpeed");if(f.innerHTML=y.innerHTML,y.innerHTML=l.innerHTML,location.hostname!=e_.toLowerCase()+ev){S=encodeURI(S="https://"+e_.toLowerCase()+ev+"/results/show.php?&d="+a.toFixed(3)+"&u="+p.toFixed(3)+"&p="+h+"&j="+d+"&dd="+($/1048576).toFixed(3)+"&ud="+(u/1048576).toFixed(3)+"&ua="+b);var g=document.getElementById("resultsData");g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S),g.setAttribute("target","_blank"),saveData&&eU(5)}else eU(3);t="busy",clearInterval(i)}},100)}()}"web"===openChannel&&(eb=webRe,ey=!0),"widget"===openChannel&&(eb=widgetRe,ey=!0),"selfwidget"===openChannel&&(eb=widgetRe,W=i=domainx),openChannel;var ek=0,ew=0,ex=0,eM=0,eC=0,eR=0,eT=0,eL=0,eE=0,e8=0,eG=0,e0=0,e4=0,eF=0,eI=1e3*dlDuration-6e3,e3=1e3*ulDuration-6e3;function eP(e){if("dl"===e){var t=1e3*_;t>1e3*L+K/2*1e3&&0===eT&&(eT=1,eR*=.01,ex*=.01,G=t+1e4),t>=G&&G<eI&&(G+=1e4,eR*=.01,ex*=.01),ek=z<=0?0:z-ew,ew=z,ex+=ek,eM=eC=t-eC,eC=t,eR+=eM,ex>0&&(q=g=ex/eR/125*upAdjust)}if("up"===e){var o=1e3*c;o>1e3*E+X/2*1e3&&0===eF&&(eF=1,e4*=.1,e8*=.1,F=o+1e4),o>=F&&F<e3&&(F+=1e4,e4*=.1,e8*=.1),eL=Z<=0?0:Z-eE,eE=Z,e8+=eL,eG=e0=o-e0,e0=o,e4+=eG,e8>0&&(q=g=e8/e4/125*upAdjust)}}function e7(e){var o=0,s=new XMLHttpRequest;J[e]=s,J[e].open("GET",I.Download+"?n="+Math.random(),!0),J[e].onprogress=function(s){if(1===Y)return J[e].abort(),J[e]=null,J[e]=void 0,delete J[e],!1;"initDown"==t&&(t="Downloading");var n=s.loaded<=0?0:s.loaded-o;if(isNaN(n)||!isFinite(n)||n<0)return!1;z+=n,o=s.loaded},J[e].onload=function(s){0===o&&(z+=s.total),"initDown"==t&&(t="Downloading"),J[e]&&(J[e].abort(),J[e]=null,J[e]=void 0,delete J[e]),0===Y&&e7(e)},J[e].onerror=function(t){0===Y&&e7(e)},J[e].responseType="arraybuffer",J[e].send()}var eB=[];function e1(e){var o=0,n=new XMLHttpRequest;eB[e]=n,eB[e].open("POST",I.Upload+"?n="+Math.random(),!0),eB[e].upload.onprogress=function(s){if("initup"==t&&void 0===n){var n;t="Uploading"}if(c>=ulDuration)return eB[e].abort(),eB[e]=null,eB[e]=void 0,delete eB[e],!1;var i=s.loaded<=0?0:s.loaded-o;if(isNaN(i)||!isFinite(i)||i<0)return!1;Z+=i,o=s.loaded},eB[e].onload=function(){if(0===o&&(Z+=1048576*ulDataSize,c>=ulDuration))return eB[e].abort(),eB[e]=null,eB[e]=void 0,delete eB[e],!1;if("initup"==t&&void 0===s){var s;t="Uploading"}eB[e]&&(eB[e].abort(),eB[e]=null,eB[e]=void 0,delete eB[e]),1===Y&&e1(e)},eB[e].onerror=function(t){c<=ulDuration&&e1(e)},eB[e].setRequestHeader("Content-Type","application/octet-stream"),e>0&&Z<=17e3||eB[e].send(s)}var e2=-1,eA=[],e6=[],e5=[],eO=openSpeedTestServerList.length,eU=function(e){var t=new XMLHttpRequest,o=OpenSpeedTestdb;1==e&&(o=webIP),5==e&&(o=saveDataURL),7==e&&(o=get_IP),t.open("POST",o,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(y=t.responseText.trim(),2==e&&(n=y),1==e&&(i=y),3==e&&setTimeout(function(){location.href=eb+y},1500),6==e&&(openSpeedTestServerList=JSON.parse(y),ee=!0,ec()),7==e&&(H.YourIP.el.textContent=y))},2==e&&(f="r=n"),3==e&&(f="r=l&d="+a+"&u="+p+"&dd="+$/1048576+"&ud="+u/1048576+"&p="+h+"&do="+W+"&S="+n+"&sip="+i+"&jit="+d+"&ua="+b),5==e&&(f=S),6==e&&(f="r=s"),t.send(f)}};e.Start=function(){new a}}(window.OpenSpeedTest=window.OpenSpeedTest||{});